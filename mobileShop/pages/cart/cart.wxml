<!--pages/cart/cart.wxml-->
<view class="container">
  <!-- è´­ç‰©è½¦åˆ—è¡¨ -->
  <view class="cart-list" wx:if="{{cartList.length > 0}}">
    <view class="cart-item" wx:for="{{cartList}}" wx:key="id">
      <view class="cart-item-checkbox" bindtap="onItemCheck" data-index="{{index}}">
        <text class="checkbox {{item.checked ? 'checked' : ''}}">{{item.checked ? 'âœ“' : ''}}</text>
      </view>
      <image class="cart-item-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="cart-item-info">
        <text class="cart-item-name">{{item.name}}</text>
        <text class="cart-item-specs">{{item.specs}}</text>
        <view class="cart-item-bottom">
          <view class="cart-item-price-box">
            <text class="price price-symbol">Â¥</text>
            <text class="price price-integer">{{item.price}}</text>
          </view>
          <view class="cart-item-count">
            <text class="count-btn" bindtap="onCountDecrease" data-index="{{index}}">-</text>
            <text class="count-value">{{item.count}}</text>
            <text class="count-btn" bindtap="onCountIncrease" data-index="{{index}}">+</text>
          </view>
        </view>
      </view>
      <view class="cart-item-delete" bindtap="onItemDelete" data-index="{{index}}">åˆ é™¤</view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:if="{{cartList.length === 0}}">
    <text class="empty-icon">ğŸ›’</text>
    <text class="empty-text">è´­ç‰©è½¦æ˜¯ç©ºçš„</text>
    <view class="empty-btn" bindtap="onGoShopping">å»é€›é€›</view>
  </view>

  <!-- åº•éƒ¨ç»“ç®—æ  -->
  <view class="bottom-bar" wx:if="{{cartList.length > 0}}">
    <view class="bar-left">
      <view class="bar-checkbox" bindtap="onAllCheck">
        <text class="checkbox {{allChecked ? 'checked' : ''}}">{{allChecked ? 'âœ“' : ''}}</text>
        <text class="bar-checkbox-text">å…¨é€‰</text>
      </view>
      <view class="bar-total">
        <text class="bar-total-label">åˆè®¡ï¼š</text>
        <text class="price price-symbol">Â¥</text>
        <text class="price price-integer">{{totalPrice}}</text>
      </view>
    </view>
    <view class="bar-right">
      <view class="bar-btn {{selectedCount > 0 ? 'active' : ''}}" bindtap="onCheckout">
        ç»“ç®—({{selectedCount}})
      </view>
    </view>
  </view>
</view>

