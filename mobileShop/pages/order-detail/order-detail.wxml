<!--pages/order-detail/order-detail.wxml-->
<view class="container">
  <!-- 订单状态 -->
  <view class="status-section">
    <text class="status-icon">{{statusIcon}}</text>
    <text class="status-text">{{statusText}}</text>
    <text class="status-desc">{{statusDesc}}</text>
  </view>

  <!-- 收货地址 -->
  <view class="address-section" wx:if="{{order.address}}">
    <view class="address-info">
      <text class="address-name">{{order.userName}}</text>
      <text class="address-phone">{{order.userPhone}}</text>
    </view>
    <text class="address-detail">{{order.address}}</text>
  </view>

  <!-- 商品列表 -->
  <view class="goods-section">
    <view class="order-item" wx:for="{{order.items}}" wx:key="id">
      <image class="order-item-image" src="{{item.goodsImage}}" mode="aspectFill"></image>
      <view class="order-item-info">
        <text class="order-item-name">{{item.goodsName}}</text>
        <text class="order-item-specs">{{item.specs}}</text>
        <view class="order-item-bottom">
          <view class="order-item-price-box">
            <text class="price price-symbol">¥</text>
            <text class="price price-integer">{{item.goodsPrice}}</text>
          </view>
          <text class="order-item-count">x{{item.count}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 订单信息 -->
  <view class="info-section">
    <view class="info-item">
      <text class="info-label">订单号</text>
      <text class="info-value">{{order.orderNo}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">下单时间</text>
      <text class="info-value">{{order.createTime}}</text>
    </view>
    <view class="info-item" wx:if="{{order.remark}}">
      <text class="info-label">备注</text>
      <text class="info-value">{{order.remark}}</text>
    </view>
  </view>

  <!-- 价格明细 -->
  <view class="price-section">
    <view class="price-item">
      <text class="price-label">商品总价</text>
      <text class="price-value">¥{{order.totalPrice}}</text>
    </view>
    <view class="price-item">
      <text class="price-label">运费</text>
      <text class="price-value">¥{{order.shippingFee}}</text>
    </view>
    <view class="price-item total">
      <text class="price-label">实付</text>
      <text class="price-value">¥{{order.finalPrice}}</text>
    </view>
  </view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar" wx:if="{{order.status !== 'completed'}}">
    <view class="bar-btn secondary" wx:if="{{order.status === 'unpaid'}}" bindtap="onCancelOrder">取消订单</view>
    <view class="bar-btn primary" wx:if="{{order.status === 'unpaid'}}" bindtap="onPayOrder">立即支付</view>
    <view class="bar-btn primary" wx:if="{{order.status === 'shipped'}}" bindtap="onConfirmReceive">确认收货</view>
  </view>
</view>

